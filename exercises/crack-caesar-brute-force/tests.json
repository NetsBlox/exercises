[ 
    {
        "type" : "CustomBlockTest",
        "name" : "it should find key when starts with a search word",
        "spec" : "find key where %'msg' contains %'words'",
        "function" : "<context id=\"1\"><inputs><input>code breaker</input></inputs><variables></variables><block collabId=\"item_10039\" s=\"reportEquals\"><block collabId=\"item_10051\" s=\"evaluate\"><block collabId=\"item_10052\" var=\"code breaker\"/><list><custom-block collabId=\"item_63_12\" s=\"shift %txt by %n\"><l>hello world</l><l>2</l><receiver><project collabStartIndex=\"10167\" name=\"myRole\" app=\"NetsBlox 1.27.2, http://netsblox.org\" version=\"1.27.2\"><notes></notes><thumbnail></thumbnail><stage name=\"Stage\" width=\"480\" height=\"360\" collabId=\"item_-1_1\" costume=\"0\" tempo=\"60\" threadsafe=\"false\" lines=\"round\" codify=\"false\" inheritance=\"false\" sublistIDs=\"false\" scheduled=\"false\" id=\"11\"><pentrails></pentrails><costumes><list struct=\"atomic\" id=\"12\"></list></costumes><sounds><list struct=\"atomic\" id=\"13\"></list></sounds><variables></variables><blocks></blocks><messageTypes><messageType><name>message</name><fields><field>msg</field></fields></messageType></messageTypes><scripts></scripts><sprites><sprite name=\"Sprite\" collabId=\"item_-1\" idx=\"1\" x=\"0\" y=\"0\" heading=\"90\" scale=\"1\" rotation=\"1\" draggable=\"true\" costume=\"0\" color=\"80,80,80\" pen=\"tip\" id=\"19\"><costumes><list struct=\"atomic\" id=\"20\"></list></costumes><sounds><list struct=\"atomic\" id=\"21\"></list></sounds><variables></variables><blocks></blocks><scripts></scripts></sprite><watcher var=\"assignment\" style=\"normal\" x=\"10\" y=\"10\" color=\"243,118,29\" extX=\"128.5615234375\" extY=\"52\"/><watcher var=\"tests\" style=\"normal\" x=\"10\" y=\"94.500002\" color=\"243,118,29\" extX=\"100\" extY=\"87.5\"/><watcher var=\"test\" style=\"normal\" x=\"10\" y=\"272.000004\" color=\"243,118,29\" extX=\"160.201904296875\" extY=\"107.5\"/><watcher scope=\"Stage\" s=\"reportRPCError\" style=\"normal\" x=\"10\" y=\"338.999998\" color=\"217,77,17\"/></sprites></stage><hidden></hidden><headers></headers><code></code><blocks><block-definition collabId=\"item_10000_201\" s=\"shift %&apos;text&apos; by %&apos;amount&apos;\" type=\"reporter\" category=\"operators\"><header></header><code></code><translations></translations><inputs><input type=\"%txt\"></input><input type=\"%n\"></input></inputs><script><block collabId=\"item_10000_193\" s=\"doDeclareVariables\"><list><l>shifted letters</l></list></block><block collabId=\"item_10000_190\" s=\"doSetVar\"><l>shifted letters</l><block collabId=\"item_10000_188\" s=\"reportNewList\"><list></list></block></block><block collabId=\"item_10000_186\" s=\"doForEach\"><l>letter</l><block collabId=\"item_10000_184\" s=\"reportTextSplit\"><block collabId=\"item_10000_183\" var=\"text\"/><l><option>letter</option></l></block><script><block collabId=\"item_10000_179\" s=\"doAddToList\"><block collabId=\"item_10000_178\" s=\"reportUnicodeAsLetter\"><block collabId=\"item_10000_177\" s=\"reportModulus\"><block collabId=\"item_10000_176\" s=\"reportSum\"><block collabId=\"item_10000_175\" s=\"reportUnicode\"><block collabId=\"item_10000_174\" var=\"letter\"/></block><block collabId=\"item_10000_173\" var=\"amount\"/></block><l>128</l></block></block><block collabId=\"item_10000_171\" var=\"shifted letters\"/></block></script></block><block collabId=\"item_10000_170\" s=\"doReport\"><block collabId=\"item_10000_169\" s=\"reportJoinWords\"><block collabId=\"item_10000_168\" var=\"shifted letters\"/></block></block></script></block-definition></blocks><variables></variables><history></history><replay></replay></project></receiver></custom-block><block collabId=\"item_10004\" s=\"reportNewList\"><list><l>hello</l></list></block></list></block><l>2</l></block><receiver><ref id=\"19\"></ref></receiver><origin><ref id=\"19\"></ref></origin><context id=\"77\"><inputs></inputs><variables></variables><receiver><ref id=\"19\"></ref></receiver><origin><ref id=\"19\"></ref></origin></context></context>"
    }, 
    {
        "name" : "it should find key when using multiple search words",
        "type" : "CustomBlockTest",
        "spec" : "find key where %'msg' contains %'words'",
        "function" : "<context id=\"1\"><inputs><input>code breaker</input></inputs><variables></variables><block collabId=\"item_10086_13\" s=\"reportEquals\"><block collabId=\"item_10086_19\" s=\"evaluate\"><block collabId=\"item_10086_23\" var=\"code breaker\"/><list><custom-block collabId=\"item_10086_24\" s=\"shift %txt by %n\"><l>with spaces</l><l>15</l><receiver><project collabStartIndex=\"10167\" name=\"myRole\" app=\"NetsBlox 1.27.2, http://netsblox.org\" version=\"1.27.2\"><notes></notes><thumbnail></thumbnail><stage name=\"Stage\" width=\"480\" height=\"360\" collabId=\"item_-1_1\" costume=\"0\" tempo=\"60\" threadsafe=\"false\" lines=\"round\" codify=\"false\" inheritance=\"false\" sublistIDs=\"false\" scheduled=\"false\" id=\"11\"><pentrails></pentrails><costumes><list struct=\"atomic\" id=\"12\"></list></costumes><sounds><list struct=\"atomic\" id=\"13\"></list></sounds><variables></variables><blocks></blocks><messageTypes><messageType><name>message</name><fields><field>msg</field></fields></messageType></messageTypes><scripts></scripts><sprites><sprite name=\"Sprite\" collabId=\"item_-1\" idx=\"1\" x=\"0\" y=\"0\" heading=\"90\" scale=\"1\" rotation=\"1\" draggable=\"true\" costume=\"0\" color=\"80,80,80\" pen=\"tip\" id=\"19\"><costumes><list struct=\"atomic\" id=\"20\"></list></costumes><sounds><list struct=\"atomic\" id=\"21\"></list></sounds><variables></variables><blocks></blocks><scripts></scripts></sprite><watcher var=\"assignment\" style=\"normal\" x=\"10\" y=\"10\" color=\"243,118,29\" extX=\"128.5615234375\" extY=\"52\"/><watcher var=\"tests\" style=\"normal\" x=\"10\" y=\"94.500002\" color=\"243,118,29\" extX=\"100\" extY=\"87.5\"/><watcher var=\"test\" style=\"normal\" x=\"10\" y=\"272.000004\" color=\"243,118,29\" extX=\"160.201904296875\" extY=\"107.5\"/><watcher scope=\"Stage\" s=\"reportRPCError\" style=\"normal\" x=\"10\" y=\"338.999998\" color=\"217,77,17\"/></sprites></stage><hidden></hidden><headers></headers><code></code><blocks><block-definition collabId=\"item_10000_201\" s=\"shift %&apos;text&apos; by %&apos;amount&apos;\" type=\"reporter\" category=\"operators\"><header></header><code></code><translations></translations><inputs><input type=\"%txt\"></input><input type=\"%n\"></input></inputs><script><block collabId=\"item_10000_193\" s=\"doDeclareVariables\"><list><l>shifted letters</l></list></block><block collabId=\"item_10000_190\" s=\"doSetVar\"><l>shifted letters</l><block collabId=\"item_10000_188\" s=\"reportNewList\"><list></list></block></block><block collabId=\"item_10000_186\" s=\"doForEach\"><l>letter</l><block collabId=\"item_10000_184\" s=\"reportTextSplit\"><block collabId=\"item_10000_183\" var=\"text\"/><l><option>letter</option></l></block><script><block collabId=\"item_10000_179\" s=\"doAddToList\"><block collabId=\"item_10000_178\" s=\"reportUnicodeAsLetter\"><block collabId=\"item_10000_177\" s=\"reportModulus\"><block collabId=\"item_10000_176\" s=\"reportSum\"><block collabId=\"item_10000_175\" s=\"reportUnicode\"><block collabId=\"item_10000_174\" var=\"letter\"/></block><block collabId=\"item_10000_173\" var=\"amount\"/></block><l>128</l></block></block><block collabId=\"item_10000_171\" var=\"shifted letters\"/></block></script></block><block collabId=\"item_10000_170\" s=\"doReport\"><block collabId=\"item_10000_169\" s=\"reportJoinWords\"><block collabId=\"item_10000_168\" var=\"shifted letters\"/></block></block></script></block-definition></blocks><variables></variables><history></history><replay></replay></project></receiver></custom-block><block collabId=\"item_10086_25\" s=\"reportNewList\"><list><l>hello</l><l>with</l></list></block></list></block><l>15</l></block><receiver><ref id=\"19\"></ref></receiver><origin><ref id=\"19\"></ref></origin></context>"
    }, 
    {
        "name" : "it should find key when ends with one of many search words",
        "type" : "CustomBlockTest",
        "spec" : "find key where %'msg' contains %'words'",
        "function" : "<context id=\"1\"><inputs><input>code breaker</input></inputs><variables></variables><block collabId=\"item_10108_15\" s=\"reportEquals\"><block collabId=\"item_10108_21\" s=\"evaluate\"><block collabId=\"item_10108_25\" var=\"code breaker\"/><list><custom-block collabId=\"item_10108_26\" s=\"shift %txt by %n\"><l>with spaces</l><l>33</l><receiver><project collabStartIndex=\"10167\" name=\"myRole\" app=\"NetsBlox 1.27.2, http://netsblox.org\" version=\"1.27.2\"><notes></notes><thumbnail></thumbnail><stage name=\"Stage\" width=\"480\" height=\"360\" collabId=\"item_-1_1\" costume=\"0\" tempo=\"60\" threadsafe=\"false\" lines=\"round\" codify=\"false\" inheritance=\"false\" sublistIDs=\"false\" scheduled=\"false\" id=\"11\"><pentrails></pentrails><costumes><list struct=\"atomic\" id=\"12\"></list></costumes><sounds><list struct=\"atomic\" id=\"13\"></list></sounds><variables></variables><blocks></blocks><messageTypes><messageType><name>message</name><fields><field>msg</field></fields></messageType></messageTypes><scripts></scripts><sprites><sprite name=\"Sprite\" collabId=\"item_-1\" idx=\"1\" x=\"0\" y=\"0\" heading=\"90\" scale=\"1\" rotation=\"1\" draggable=\"true\" costume=\"0\" color=\"80,80,80\" pen=\"tip\" id=\"19\"><costumes><list struct=\"atomic\" id=\"20\"></list></costumes><sounds><list struct=\"atomic\" id=\"21\"></list></sounds><variables></variables><blocks></blocks><scripts></scripts></sprite><watcher var=\"assignment\" style=\"normal\" x=\"10\" y=\"10\" color=\"243,118,29\" extX=\"128.5615234375\" extY=\"52\"/><watcher var=\"tests\" style=\"normal\" x=\"10\" y=\"94.500002\" color=\"243,118,29\" extX=\"100\" extY=\"87.5\"/><watcher var=\"test\" style=\"normal\" x=\"10\" y=\"272.000004\" color=\"243,118,29\" extX=\"160.201904296875\" extY=\"107.5\"/><watcher scope=\"Stage\" s=\"reportRPCError\" style=\"normal\" x=\"10\" y=\"338.999998\" color=\"217,77,17\"/></sprites></stage><hidden></hidden><headers></headers><code></code><blocks><block-definition collabId=\"item_10000_201\" s=\"shift %&apos;text&apos; by %&apos;amount&apos;\" type=\"reporter\" category=\"operators\"><header></header><code></code><translations></translations><inputs><input type=\"%txt\"></input><input type=\"%n\"></input></inputs><script><block collabId=\"item_10000_193\" s=\"doDeclareVariables\"><list><l>shifted letters</l></list></block><block collabId=\"item_10000_190\" s=\"doSetVar\"><l>shifted letters</l><block collabId=\"item_10000_188\" s=\"reportNewList\"><list></list></block></block><block collabId=\"item_10000_186\" s=\"doForEach\"><l>letter</l><block collabId=\"item_10000_184\" s=\"reportTextSplit\"><block collabId=\"item_10000_183\" var=\"text\"/><l><option>letter</option></l></block><script><block collabId=\"item_10000_179\" s=\"doAddToList\"><block collabId=\"item_10000_178\" s=\"reportUnicodeAsLetter\"><block collabId=\"item_10000_177\" s=\"reportModulus\"><block collabId=\"item_10000_176\" s=\"reportSum\"><block collabId=\"item_10000_175\" s=\"reportUnicode\"><block collabId=\"item_10000_174\" var=\"letter\"/></block><block collabId=\"item_10000_173\" var=\"amount\"/></block><l>128</l></block></block><block collabId=\"item_10000_171\" var=\"shifted letters\"/></block></script></block><block collabId=\"item_10000_170\" s=\"doReport\"><block collabId=\"item_10000_169\" s=\"reportJoinWords\"><block collabId=\"item_10000_168\" var=\"shifted letters\"/></block></block></script></block-definition></blocks><variables></variables><history></history><replay></replay></project></receiver></custom-block><block collabId=\"item_10108_27\" s=\"reportNewList\"><list><l>hello</l><l>spaces</l></list></block></list></block><l>33</l></block><receiver><ref id=\"19\"></ref></receiver><origin><ref id=\"19\"></ref></origin></context>"
    }, 
    {
        "name" : "it should return -1 if cannot decode message",
        "type" : "CustomBlockTest",
        "spec" : "find key where %'msg' contains %'words'",
        "function" : "<context id=\"1\"><inputs><input>code breaker</input></inputs><variables></variables><block collabId=\"item_10116_15\" s=\"reportEquals\"><block collabId=\"item_10116_21\" s=\"evaluate\"><block collabId=\"item_10116_25\" var=\"code breaker\"/><list><custom-block collabId=\"item_10116_26\" s=\"shift %txt by %n\"><l>no hidden words</l><l>3</l><receiver><project collabStartIndex=\"10167\" name=\"myRole\" app=\"NetsBlox 1.27.2, http://netsblox.org\" version=\"1.27.2\"><notes></notes><thumbnail></thumbnail><stage name=\"Stage\" width=\"480\" height=\"360\" collabId=\"item_-1_1\" costume=\"0\" tempo=\"60\" threadsafe=\"false\" lines=\"round\" codify=\"false\" inheritance=\"false\" sublistIDs=\"false\" scheduled=\"false\" id=\"11\"><pentrails></pentrails><costumes><list struct=\"atomic\" id=\"12\"></list></costumes><sounds><list struct=\"atomic\" id=\"13\"></list></sounds><variables></variables><blocks></blocks><messageTypes><messageType><name>message</name><fields><field>msg</field></fields></messageType></messageTypes><scripts></scripts><sprites><sprite name=\"Sprite\" collabId=\"item_-1\" idx=\"1\" x=\"0\" y=\"0\" heading=\"90\" scale=\"1\" rotation=\"1\" draggable=\"true\" costume=\"0\" color=\"80,80,80\" pen=\"tip\" id=\"19\"><costumes><list struct=\"atomic\" id=\"20\"></list></costumes><sounds><list struct=\"atomic\" id=\"21\"></list></sounds><variables></variables><blocks></blocks><scripts></scripts></sprite><watcher var=\"assignment\" style=\"normal\" x=\"10\" y=\"10\" color=\"243,118,29\" extX=\"128.5615234375\" extY=\"52\"/><watcher var=\"tests\" style=\"normal\" x=\"10\" y=\"94.500002\" color=\"243,118,29\" extX=\"100\" extY=\"87.5\"/><watcher var=\"test\" style=\"normal\" x=\"10\" y=\"272.000004\" color=\"243,118,29\" extX=\"160.201904296875\" extY=\"107.5\"/><watcher scope=\"Stage\" s=\"reportRPCError\" style=\"normal\" x=\"10\" y=\"338.999998\" color=\"217,77,17\"/></sprites></stage><hidden></hidden><headers></headers><code></code><blocks><block-definition collabId=\"item_10000_201\" s=\"shift %&apos;text&apos; by %&apos;amount&apos;\" type=\"reporter\" category=\"operators\"><header></header><code></code><translations></translations><inputs><input type=\"%txt\"></input><input type=\"%n\"></input></inputs><script><block collabId=\"item_10000_193\" s=\"doDeclareVariables\"><list><l>shifted letters</l></list></block><block collabId=\"item_10000_190\" s=\"doSetVar\"><l>shifted letters</l><block collabId=\"item_10000_188\" s=\"reportNewList\"><list></list></block></block><block collabId=\"item_10000_186\" s=\"doForEach\"><l>letter</l><block collabId=\"item_10000_184\" s=\"reportTextSplit\"><block collabId=\"item_10000_183\" var=\"text\"/><l><option>letter</option></l></block><script><block collabId=\"item_10000_179\" s=\"doAddToList\"><block collabId=\"item_10000_178\" s=\"reportUnicodeAsLetter\"><block collabId=\"item_10000_177\" s=\"reportModulus\"><block collabId=\"item_10000_176\" s=\"reportSum\"><block collabId=\"item_10000_175\" s=\"reportUnicode\"><block collabId=\"item_10000_174\" var=\"letter\"/></block><block collabId=\"item_10000_173\" var=\"amount\"/></block><l>128</l></block></block><block collabId=\"item_10000_171\" var=\"shifted letters\"/></block></script></block><block collabId=\"item_10000_170\" s=\"doReport\"><block collabId=\"item_10000_169\" s=\"reportJoinWords\"><block collabId=\"item_10000_168\" var=\"shifted letters\"/></block></block></script></block-definition></blocks><variables></variables><history></history><replay></replay></project></receiver></custom-block><block collabId=\"item_10116_27\" s=\"reportNewList\"><list><l>hello</l><l>spaces</l></list></block></list></block><l>-1</l></block><receiver><ref id=\"19\"></ref></receiver><origin><ref id=\"19\"></ref></origin></context>"
    }
]
