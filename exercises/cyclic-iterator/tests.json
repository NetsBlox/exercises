[
  {
    "name": "block should return a function",
    "type": "CustomBlockTest",
    "spec": "cycle %'list'",
    "function": "<context id=\"1\"><inputs><input>iterator fn</input></inputs><variables></variables><block collabId=\"item_385\" s=\"reportIsA\"><block collabId=\"item_357_198\" s=\"evaluate\"><block collabId=\"item_357_197\" var=\"iterator fn\"/><list><block collabId=\"item_365\" s=\"reportNewList\"><list><l>1</l></list></block></list></block><l><option>command</option></l></block><receiver><sprite name=\"cyclic\" collabId=\"item_357\" idx=\"3\" x=\"0.3328710124826557\" y=\"-0.24965325936204863\" heading=\"90\" scale=\"1\" rotation=\"1\" draggable=\"true\" costume=\"0\" color=\"80,80,80\" pen=\"tip\" id=\"16\"><costumes><list struct=\"atomic\" id=\"17\"></list></costumes><sounds><list struct=\"atomic\" id=\"18\"></list></sounds><variables></variables><blocks></blocks><scripts></scripts></sprite></receiver><origin><ref id=\"16\"></ref></origin><context id=\"21\"><inputs></inputs><variables></variables><receiver><ref id=\"16\"></ref></receiver><origin><ref id=\"16\"></ref></origin></context></context>"
  },
  {
    "name": "sequence should start with the first value in the list",
    "type": "CustomBlockTest",
    "spec": "cycle %'list'",
    "function": "<context id=\"1\"><inputs><input>iterator fn</input></inputs><variables></variables><block collabId=\"item_378_15\" s=\"reportAnd\"><block collabId=\"item_378_22\" s=\"reportEquals\"><custom-block collabId=\"item_378_27\" s=\"next %s\"><block collabId=\"item_378_30\" s=\"evaluate\"><block collabId=\"item_378_38\" var=\"iterator fn\"/><list><block collabId=\"item_378_39\" s=\"reportNewList\"><list><l>1</l></list></block></list></block><receiver><project collabStartIndex=\"536\" name=\"myRole\" app=\"NetsBlox 1.27.1, http://netsblox.org\" version=\"1.27.1\"><notes></notes><thumbnail></thumbnail><stage name=\"Stage\" width=\"480\" height=\"360\" collabId=\"item_-1_1\" costume=\"0\" tempo=\"60\" threadsafe=\"false\" lines=\"round\" codify=\"false\" inheritance=\"false\" sublistIDs=\"false\" scheduled=\"false\" id=\"8\"><pentrails></pentrails><costumes><list struct=\"atomic\" id=\"9\"></list></costumes><sounds><list struct=\"atomic\" id=\"10\"></list></sounds><variables></variables><blocks></blocks><messageTypes><messageType><name>message</name><fields><field>msg</field></fields></messageType></messageTypes><scripts></scripts><sprites><sprite name=\"intro\" collabId=\"item_-1\" idx=\"1\" x=\"0.3328710124826557\" y=\"-0.24965325936204863\" heading=\"90\" scale=\"1\" rotation=\"1\" draggable=\"true\" costume=\"0\" color=\"80,80,80\" pen=\"tip\" id=\"16\"><costumes><list struct=\"atomic\" id=\"17\"></list></costumes><sounds><list struct=\"atomic\" id=\"18\"></list></sounds><variables></variables><blocks></blocks><scripts></scripts></sprite><sprite name=\"map\" collabId=\"item_304\" idx=\"2\" x=\"0.3328710124826557\" y=\"-0.24965325936204863\" heading=\"90\" scale=\"1\" rotation=\"1\" draggable=\"true\" costume=\"0\" color=\"80,80,80\" pen=\"tip\" id=\"21\"><costumes><list struct=\"atomic\" id=\"22\"></list></costumes><sounds><list struct=\"atomic\" id=\"23\"></list></sounds><variables></variables><blocks></blocks><scripts></scripts></sprite><sprite name=\"cyclic\" collabId=\"item_357\" idx=\"3\" x=\"0.3328710124826557\" y=\"-0.24965325936204863\" heading=\"90\" scale=\"1\" rotation=\"1\" draggable=\"true\" costume=\"0\" color=\"80,80,80\" pen=\"tip\" id=\"26\"><costumes><list struct=\"atomic\" id=\"27\"></list></costumes><sounds><list struct=\"atomic\" id=\"28\"></list></sounds><variables></variables><blocks></blocks><scripts></scripts></sprite><watcher var=\"test case\" style=\"normal\" x=\"15.020833333333485\" y=\"15.020833333333336\" color=\"243,118,29\"/><watcher var=\"test\" style=\"normal\" x=\"18.020833333333485\" y=\"113.10625300416677\" color=\"243,118,29\" extX=\"191.84228515625\" extY=\"129\"/><watcher var=\"grader config\" style=\"normal\" x=\"10\" y=\"10\" color=\"243,118,29\" extX=\"191.84228515625\" extY=\"78\"/><watcher var=\"assignment\" style=\"normal\" x=\"10\" y=\"103.000002\" color=\"243,118,29\" extX=\"191.84228515625\" extY=\"78\"/><watcher var=\"tests\" style=\"normal\" x=\"10\" y=\"178.000004\" color=\"243,118,29\" extX=\"200\" extY=\"129\"/><watcher var=\"iterator\" style=\"normal\" x=\"10\" y=\"315.000006\" color=\"243,118,29\"/><watcher var=\"value\" style=\"normal\" x=\"10\" y=\"330.499998\" color=\"243,118,29\"/></sprites></stage><hidden></hidden><headers></headers><code></code><blocks><block-definition collabId=\"item_361_10\" s=\"next %&apos;iterator&apos;\" type=\"reporter\" category=\"custom\"><header></header><code></code><translations></translations><inputs><input type=\"%s\"></input></inputs><script><block collabId=\"item_361_3\" s=\"doReport\"><block collabId=\"item_361_2\" s=\"evaluate\"><block collabId=\"item_361_1\" var=\"iterator\"/><list></list></block></block></script></block-definition></blocks><variables><variable name=\"iterator\"><context id=\"48\"><inputs></inputs><variables></variables><script><block collabId=\"item_361_23\" s=\"doSetVar\"><l>index</l><block collabId=\"item_361_21\" s=\"reportSum\"><block collabId=\"item_361_20\" s=\"reportModulus\"><block collabId=\"item_361_19\" var=\"index\"/><block collabId=\"item_361_18\" s=\"reportListLength\"><block collabId=\"item_361_17\" var=\"list\"/></block></block><l>1</l></block></block><block collabId=\"item_361_15\" s=\"doReport\"><block collabId=\"item_361_14\" s=\"reportListItem\"><block collabId=\"item_361_13\" var=\"index\"/><block collabId=\"item_361_12\" var=\"list\"/></block></block></script><receiver><ref id=\"26\"></ref></receiver><origin><ref id=\"26\"></ref></origin><context id=\"67\"><inputs></inputs><variables></variables><receiver><ref id=\"26\"></ref></receiver><origin></origin></context></context></variable></variables><history></history><replay></replay></project></receiver></custom-block><l>1</l></block><block collabId=\"item_378_23\" s=\"reportEquals\"><custom-block collabId=\"item_378_26\" s=\"next %s\"><block collabId=\"item_378_31\" s=\"evaluate\"><block collabId=\"item_378_36\" var=\"iterator fn\"/><list><block collabId=\"item_378_37\" s=\"reportNewList\"><list><l>24</l></list></block></list></block></custom-block><l>24</l></block></block><receiver><ref id=\"26\"></ref></receiver><origin><ref id=\"26\"></ref></origin><context id=\"96\"><inputs></inputs><variables></variables><receiver><ref id=\"26\"></ref></receiver><origin><ref id=\"26\"></ref></origin></context></context>"
  },
  {
    "name": "sequence should remember position",
    "type": "CustomBlockTest",
    "spec": "cycle %'list'",
    "function": "<context id=\"1\"><inputs><input>iterator fn</input></inputs><variables></variables><script><block collabId=\"item_437\" s=\"doDeclareVariables\"><list><l>iterator</l><l>value</l></list></block><block collabId=\"item_439\" s=\"doSetVar\"><l>iterator</l><block collabId=\"item_441\" s=\"evaluate\"><block collabId=\"item_441_1\" var=\"iterator fn\"/><list><block collabId=\"item_441_2\" s=\"reportNewList\"><list><l>1</l><l>9</l></list></block></list></block></block><block collabId=\"item_531\" s=\"doRepeat\"><l>2</l><script><block collabId=\"item_531_1\" s=\"doSetVar\"><l>value</l><custom-block collabId=\"item_531_2\" s=\"next %s\"><block collabId=\"item_531_3\" var=\"iterator\"/><receiver><project collabStartIndex=\"536\" name=\"myRole\" app=\"NetsBlox 1.27.1, http://netsblox.org\" version=\"1.27.1\"><notes></notes><thumbnail></thumbnail><stage name=\"Stage\" width=\"480\" height=\"360\" collabId=\"item_-1_1\" costume=\"0\" tempo=\"60\" threadsafe=\"false\" lines=\"round\" codify=\"false\" inheritance=\"false\" sublistIDs=\"false\" scheduled=\"false\" id=\"29\"><pentrails></pentrails><costumes><list struct=\"atomic\" id=\"30\"></list></costumes><sounds><list struct=\"atomic\" id=\"31\"></list></sounds><variables></variables><blocks></blocks><messageTypes><messageType><name>message</name><fields><field>msg</field></fields></messageType></messageTypes><scripts></scripts><sprites><sprite name=\"intro\" collabId=\"item_-1\" idx=\"1\" x=\"0.3328710124826557\" y=\"-0.24965325936204863\" heading=\"90\" scale=\"1\" rotation=\"1\" draggable=\"true\" costume=\"0\" color=\"80,80,80\" pen=\"tip\" id=\"37\"><costumes><list struct=\"atomic\" id=\"38\"></list></costumes><sounds><list struct=\"atomic\" id=\"39\"></list></sounds><variables></variables><blocks></blocks><scripts></scripts></sprite><sprite name=\"map\" collabId=\"item_304\" idx=\"2\" x=\"0.3328710124826557\" y=\"-0.24965325936204863\" heading=\"90\" scale=\"1\" rotation=\"1\" draggable=\"true\" costume=\"0\" color=\"80,80,80\" pen=\"tip\" id=\"42\"><costumes><list struct=\"atomic\" id=\"43\"></list></costumes><sounds><list struct=\"atomic\" id=\"44\"></list></sounds><variables></variables><blocks></blocks><scripts></scripts></sprite><sprite name=\"cyclic\" collabId=\"item_357\" idx=\"3\" x=\"0.3328710124826557\" y=\"-0.24965325936204863\" heading=\"90\" scale=\"1\" rotation=\"1\" draggable=\"true\" costume=\"0\" color=\"80,80,80\" pen=\"tip\" id=\"47\"><costumes><list struct=\"atomic\" id=\"48\"></list></costumes><sounds><list struct=\"atomic\" id=\"49\"></list></sounds><variables></variables><blocks></blocks><scripts></scripts></sprite><watcher var=\"test case\" style=\"normal\" x=\"15.020833333333485\" y=\"15.020833333333336\" color=\"243,118,29\"/><watcher var=\"test\" style=\"normal\" x=\"18.020833333333485\" y=\"113.10625300416677\" color=\"243,118,29\" extX=\"191.84228515625\" extY=\"129\"/><watcher var=\"grader config\" style=\"normal\" x=\"10\" y=\"10\" color=\"243,118,29\" extX=\"191.84228515625\" extY=\"78\"/><watcher var=\"assignment\" style=\"normal\" x=\"10\" y=\"103.000002\" color=\"243,118,29\" extX=\"191.84228515625\" extY=\"78\"/><watcher var=\"tests\" style=\"normal\" x=\"10\" y=\"178.000004\" color=\"243,118,29\" extX=\"200\" extY=\"129\"/><watcher var=\"iterator\" style=\"normal\" x=\"10\" y=\"315.000006\" color=\"243,118,29\"/><watcher var=\"value\" style=\"normal\" x=\"10\" y=\"330.499998\" color=\"243,118,29\"/></sprites></stage><hidden></hidden><headers></headers><code></code><blocks><block-definition collabId=\"item_361_10\" s=\"next %&apos;iterator&apos;\" type=\"reporter\" category=\"custom\"><header></header><code></code><translations></translations><inputs><input type=\"%s\"></input></inputs><script><block collabId=\"item_361_3\" s=\"doReport\"><block collabId=\"item_361_2\" s=\"evaluate\"><block collabId=\"item_361_1\" var=\"iterator\"/><list></list></block></block></script></block-definition></blocks><variables><variable name=\"iterator\"><context id=\"69\"><inputs></inputs><variables></variables><script><block collabId=\"item_361_23\" s=\"doSetVar\"><l>index</l><block collabId=\"item_361_21\" s=\"reportSum\"><block collabId=\"item_361_20\" s=\"reportModulus\"><block collabId=\"item_361_19\" var=\"index\"/><block collabId=\"item_361_18\" s=\"reportListLength\"><block collabId=\"item_361_17\" var=\"list\"/></block></block><l>1</l></block></block><block collabId=\"item_361_15\" s=\"doReport\"><block collabId=\"item_361_14\" s=\"reportListItem\"><block collabId=\"item_361_13\" var=\"index\"/><block collabId=\"item_361_12\" var=\"list\"/></block></block></script><receiver><ref id=\"47\"></ref></receiver><origin><ref id=\"47\"></ref></origin><context id=\"88\"><inputs></inputs><variables></variables><receiver><ref id=\"47\"></ref></receiver><origin></origin></context></context></variable><variable name=\"value\"><l>7</l></variable></variables><history></history><replay></replay></project></receiver></custom-block></block></script></block><block collabId=\"item_445\" s=\"doReport\"><block collabId=\"item_395_5\" s=\"reportEquals\"><block collabId=\"item_534\" var=\"value\"/><l>9</l></block></block></script><receiver><ref id=\"47\"></ref></receiver><origin><ref id=\"47\"></ref></origin><context id=\"97\"><inputs></inputs><variables><variable name=\"value\"><l>7</l></variable><variable name=\"iterator\"><ref id=\"69\"></ref></variable></variables><receiver><ref id=\"47\"></ref></receiver><origin><ref id=\"47\"></ref></origin></context></context>"
  },
  {
    "name": "sequence should restart after reaching the end",
    "type": "CustomBlockTest",
    "spec": "cycle %'list'",
    "function": "<context id=\"1\"><inputs><input>iterator fn</input></inputs><variables></variables><script><block collabId=\"item_459_1\" s=\"doDeclareVariables\"><list><l>iterator</l><l>value</l></list></block><block collabId=\"item_459_2\" s=\"doSetVar\"><l>iterator</l><block collabId=\"item_459_4\" s=\"evaluate\"><block collabId=\"item_459_5\" var=\"iterator fn\"/><list><block collabId=\"item_411_12\" s=\"reportNewList\"><list><l>7</l><l>9</l><l>3</l></list></block></list></block></block><block collabId=\"item_488_1\" s=\"doRepeat\"><l>4</l><script><block collabId=\"item_508\" s=\"doSetVar\"><l>value</l><custom-block collabId=\"item_488_9\" s=\"next %s\"><block collabId=\"item_488_10\" var=\"iterator\"/><receiver><project collabStartIndex=\"536\" name=\"myRole\" app=\"NetsBlox 1.27.1, http://netsblox.org\" version=\"1.27.1\"><notes></notes><thumbnail></thumbnail><stage name=\"Stage\" width=\"480\" height=\"360\" collabId=\"item_-1_1\" costume=\"0\" tempo=\"60\" threadsafe=\"false\" lines=\"round\" codify=\"false\" inheritance=\"false\" sublistIDs=\"false\" scheduled=\"false\" id=\"30\"><pentrails></pentrails><costumes><list struct=\"atomic\" id=\"31\"></list></costumes><sounds><list struct=\"atomic\" id=\"32\"></list></sounds><variables></variables><blocks></blocks><messageTypes><messageType><name>message</name><fields><field>msg</field></fields></messageType></messageTypes><scripts></scripts><sprites><sprite name=\"intro\" collabId=\"item_-1\" idx=\"1\" x=\"0.3328710124826557\" y=\"-0.24965325936204863\" heading=\"90\" scale=\"1\" rotation=\"1\" draggable=\"true\" costume=\"0\" color=\"80,80,80\" pen=\"tip\" id=\"38\"><costumes><list struct=\"atomic\" id=\"39\"></list></costumes><sounds><list struct=\"atomic\" id=\"40\"></list></sounds><variables></variables><blocks></blocks><scripts></scripts></sprite><sprite name=\"map\" collabId=\"item_304\" idx=\"2\" x=\"0.3328710124826557\" y=\"-0.24965325936204863\" heading=\"90\" scale=\"1\" rotation=\"1\" draggable=\"true\" costume=\"0\" color=\"80,80,80\" pen=\"tip\" id=\"43\"><costumes><list struct=\"atomic\" id=\"44\"></list></costumes><sounds><list struct=\"atomic\" id=\"45\"></list></sounds><variables></variables><blocks></blocks><scripts></scripts></sprite><sprite name=\"cyclic\" collabId=\"item_357\" idx=\"3\" x=\"0.3328710124826557\" y=\"-0.24965325936204863\" heading=\"90\" scale=\"1\" rotation=\"1\" draggable=\"true\" costume=\"0\" color=\"80,80,80\" pen=\"tip\" id=\"48\"><costumes><list struct=\"atomic\" id=\"49\"></list></costumes><sounds><list struct=\"atomic\" id=\"50\"></list></sounds><variables></variables><blocks></blocks><scripts></scripts></sprite><watcher var=\"test case\" style=\"normal\" x=\"15.020833333333485\" y=\"15.020833333333336\" color=\"243,118,29\"/><watcher var=\"test\" style=\"normal\" x=\"18.020833333333485\" y=\"113.10625300416677\" color=\"243,118,29\" extX=\"191.84228515625\" extY=\"129\"/><watcher var=\"grader config\" style=\"normal\" x=\"10\" y=\"10\" color=\"243,118,29\" extX=\"191.84228515625\" extY=\"78\"/><watcher var=\"assignment\" style=\"normal\" x=\"10\" y=\"103.000002\" color=\"243,118,29\" extX=\"191.84228515625\" extY=\"78\"/><watcher var=\"tests\" style=\"normal\" x=\"10\" y=\"178.000004\" color=\"243,118,29\" extX=\"200\" extY=\"129\"/><watcher var=\"iterator\" style=\"normal\" x=\"10\" y=\"315.000006\" color=\"243,118,29\"/><watcher var=\"value\" style=\"normal\" x=\"10\" y=\"330.499998\" color=\"243,118,29\"/></sprites></stage><hidden></hidden><headers></headers><code></code><blocks><block-definition collabId=\"item_361_10\" s=\"next %&apos;iterator&apos;\" type=\"reporter\" category=\"custom\"><header></header><code></code><translations></translations><inputs><input type=\"%s\"></input></inputs><script><block collabId=\"item_361_3\" s=\"doReport\"><block collabId=\"item_361_2\" s=\"evaluate\"><block collabId=\"item_361_1\" var=\"iterator\"/><list></list></block></block></script></block-definition></blocks><variables><variable name=\"iterator\"><context id=\"70\"><inputs></inputs><variables></variables><script><block collabId=\"item_361_23\" s=\"doSetVar\"><l>index</l><block collabId=\"item_361_21\" s=\"reportSum\"><block collabId=\"item_361_20\" s=\"reportModulus\"><block collabId=\"item_361_19\" var=\"index\"/><block collabId=\"item_361_18\" s=\"reportListLength\"><block collabId=\"item_361_17\" var=\"list\"/></block></block><l>1</l></block></block><block collabId=\"item_361_15\" s=\"doReport\"><block collabId=\"item_361_14\" s=\"reportListItem\"><block collabId=\"item_361_13\" var=\"index\"/><block collabId=\"item_361_12\" var=\"list\"/></block></block></script><receiver><ref id=\"48\"></ref></receiver><origin><ref id=\"48\"></ref></origin><context id=\"89\"><inputs></inputs><variables></variables><receiver><ref id=\"48\"></ref></receiver><origin></origin></context></context></variable><variable name=\"value\"><l>7</l></variable></variables><history></history><replay></replay></project></receiver></custom-block></block></script></block><block collabId=\"item_459_7\" s=\"doReport\"><block collabId=\"item_459_9\" s=\"reportEquals\"><block collabId=\"item_520\" var=\"value\"/><l>7</l></block></block></script><receiver><ref id=\"48\"></ref></receiver><origin><ref id=\"48\"></ref></origin><context id=\"98\"><inputs></inputs><variables><variable name=\"value\"><l>7</l></variable><variable name=\"iterator\"><ref id=\"70\"></ref></variable></variables><receiver><ref id=\"48\"></ref></receiver><origin><ref id=\"48\"></ref></origin></context></context>"
  }
]
